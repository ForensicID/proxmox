apt install nginx -y

wget https://github.com/roundcube/roundcubemail/releases/download/1.6.0/roundcubemail-1.6.0-complete.tar.gz
tar xvf roundcubemail-1.6.0-complete.tar.gz
mv roundcubemail-1.6.0 /var/www/roundcube
chown -R www-data:www-data /var/www/roundcube/
chmod -R 755 /var/www/roundcube/

apt install software-properties-common
add-apt-repository ppa:ondrej/php
apt update
apt install php-net-ldap2 php-net-ldap3 php-imagick php8.1-common php8.1-pgsql php8.1-gd php8.1-imap php8.1-curl php8.1-zip php8.1-xml php8.1-mbstring php8.1-bz2 php8.1-intl php8.1-gmp php8.1-redis -y

create database
apt install postgresql-client-common postgresql-client-14 -y
psql -h 127.0.0.1 -d roundcubemail -U roundcube -W -f /var/www/roundcube/SQL/postgres.initial.sql

CREATE DATABASE roundcubemail;
CREATE USER 'roundcube'@'localhost' IDENTIFIED BY 'Skills39';
GRANT ALL PRIVILEGES ON roundcubemail . * TO 'roundcube'@'localhost';
FLUSH PRIVILEGES;

mysql roundcubemail < /var/www/roundcubemail-1.6.6/SQL/mysql.initial.sql

